<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="utf-8">
</head>
<body>
	<script src="defineClass.js"></script>
	<script src="unittest.js"></script>
	<script>
		"use strict";
		var test = new unittest();
		
		test.addTestCase("define class", function () {
			var People = defineClass(null, {
				init: function (name, age) {
					this.name = name;
					this.age = age;
				},
				say: function () {
					console.log(this.name + " " + this.age);
				}
			});
			
			var p = new People("zhanghao", 22);
			p.say();
			
			var Student = defineClass(People, {
				init: function (name, age, stuId) {		
					_super(Student, this).init(name, age);
					this.stuId = stuId;
				},
				say: function () {
					console.log(this.name + " " + this.age + " " + this.stuId);
				}
			});
			
			var s = new Student("zhanghao", 22, 12261018);
			s.say();
		
			var haha = defineClass(null, {});
			console.log(s instanceof Student);
			console.log(s instanceof People);
			console.log(s.type === Student);
			console.log(s.type === People);
		})
		.addTestCase("write something", function () {
			var Person = defineClass(null, {
				init: function (name, age) {
					this.name = name;
					this.age = age;
				}
			});
			var p = new Person("zhanghao", 222);
			console.log(p);
		})
		.addTestCase("Stack must be ok", function () {
			var stack = new Stack();
			stack.push(1).push(2).push(3);
			stack.foreach(function (item) {
				console.log(item); // 3 2 1
			});
		})
		.addTestCase("enum", function () {
			var People = defineClass(null, {
				init: function (name, age) {
					this.name = name;
					this.age = age;
				},
				say: function () {
					console.log(this.name + " " + this.age);
				}
			});
			
			var p = new People("zhanghao", 22);
			p.say();
			
			for (var key in p) {
				console.log(key);
			}
		})
		.addTestCase("stack and queue", function () {
			var s = new Stack();
			s.push(1).push(2).push(3);
			s.foreach(function (item) {
				console.log(s.pop());
			});
			
//			var sasf = Stack();
			console.log(s instanceof Stack);
		})
		.addTestCase("just test", function () {
			var o = {
				init: function adf () {
					
				}
			};
			console.log(o);
			
			var test = function asdf() {
				
			};
			console.log(test);
		});
		
		test.run();
	</script>
</body>
</html>