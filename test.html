<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="utf-8">
</head>
<body>
	<script src="defineClass.js"></script>
	<script src="unittest.js"></script>
	<script>
		"use strict";
		var test = new unittest();
		test.addTestCase("define class", function () {
			var People = defineClass(null, {
				init: function (name, age) {
					this.name = name;
					this.age = age;
				},
				say: function () {
					console.log(this.name + " " + this.age);
				}
			});
			
			var p = new People("zhanghao", 22);
			p.say();
			assertTrue(p.type === Student);
			
			var Student = defineClass(People, {
				init: function (name, age, stuId) {		
					_super(Student, this).init(name, age);
					this.stuId = stuId;
				},
				say: function () {
					console.log(this.name + " " + this.age + " " + this.stuId);
				}
			});
			
			var s = new Student("zhanghao", 22, 12261018);
			s.say();
			
					
			var Thr = defineClass(Student, {
				init: function (name, age, stuId, score) {
					_super(Thr, this).init(name, age, stuId);
					this.score = score;
				},
				say: function () {
					console.log(this.name + " " + this.age + " " + this.stuId + " " + this.score);
				}
			});
			
			var t = new Thr("zhanghao", 22, 1226, 123123);
			t.say();
			
			console.log("枚举");
			
			for (var key in t) {
				console.log(key);
			}	
		});
		test.run();
	</script>
</body>
</html>